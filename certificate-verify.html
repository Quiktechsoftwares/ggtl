<!DOCTYPE html>
<html>

<head>
    <title>GGTL Certificate Verify</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>


    <style>
        td {
            color: #9d9b9b;
            background-color: white;
        }
        
        #qrcode-container {
            display: none;
        }
        
        .qrcode {
            padding: 0px;
        }
        
        .qrcode img {
            margin: 0 auto;
        }
        
        .hide {
            display: none;
        }
        
        .show {
            display: block;
        }
        
        .title-report {
            padding: 20px 30px;
            background-color: #234491;
            color: whitesmoke;
            /* background-color: rgb(224, 214, 195); */
        }
        
        .red {
            color: #234491;
            font-family: Arial, Helvetica, sans-serif;
        }
        
        .mt-2 {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 19px;
        }
        
        .small-font {
            font-size: 8px;
        }
        
        .grid-container {
            display: grid;
            grid-column-gap: 50px;
            grid-template-columns: auto auto auto;
            background-color: #2196F3;
            padding: 10px;
        }
        
        .grid-item {
            background-color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.8);
            padding: 20px;
            font-size: 30px;
            text-align: center;
        }
        
        #GFG {
            position: relative;
        }
        
        #footer-address {
            position: absolute;
            bottom: 0px;
        }
    </style>


</head>

<body>

    <!-- Navbar -->
    <nav class="navbar" style="background-color: #234491;">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://ggtl.in">
                <a class="navbar-item" style="color: whitesmoke;"> GGTL.IN </a>
            </a>
        </div>

        <div id="navbarBasicExample" class="navbar-menu">
            <div class="navbar-end">
                <a href="https://ggtl.in" class="navbar-item" style="color: whitesmoke;"> Home </a>
            </div>
        </div>
    </nav>
    <!-- End NavBar -->

    <br>

    <div class="container">
        <div class="row">
            <div id="result" class="is-hidden">




                <div class="container">
                    <div id="GFG" style="border: 1px solid black;">

                        <!-- <img src="https://ggtl.in/assets/img/logo2.png"> -->

                        <h2 class="text-center title-report">GEMSTONE ANALYSIS REPORT</h2>
                        <div class="row">

                            <div class="col-md-8">
                                <div class="column">

                                    <div id="genSize">Certificate No :
                                        <span id="cid" class="red subtitle is-5 has-text-weight-semibold">
        
                                </span>
                                    </div>

                                    <div id="genSize1">Identification :
                                        <span id="gname" class="red subtitle is-5 has-text-weight-semibold">
                                   
                                </span>
                                    </div>

                                    <div id="genSize2">
                                        Weight:
                                        <span id="gweight" class="red subtitle is-5 has-text-weight-semibold">
                                    
                                </span>
                                    </div>


                                    <div id="genSize3">
                                        Color:
                                        <span id="gcolor" class="red subtitle is-5 has-text-weight-semibold">
                                  
                                </span>

                                    </div>


                                    <div id="genSize4">
                                        Type:
                                        <span id="gtype" class="red subtitle is-5 has-text-weight-semibold">
                                   
                                    </span>
                                    </div>

                                    <div id="genSize5">
                                        Cut Type:
                                        <span id="gcuttype" class="red subtitle is-5 has-text-weight-semibold">
                                  
                                </span>
                                    </div>

                                    <div id="genSize6">
                                        Issued On:
                                        <span id="on" class="red subtitle is-5 has-text-weight-semibold">
                                    
                                </span>
                                    </div>

                                    <div id="genSize7">
                                        Issued By:
                                        <span id="by" class="red subtitle is-5 has-text-weight-semibold">
                                   
                                </span>
                                    </div>

                                    <!-- scale start -->

                                    <div id="colorGradingScale">
                                        <h6>COLOUR GRADING SCALE</h6>

                                        <img src="https://res.cloudinary.com/k-mohamed-hasim/image/upload/v1634962635/ggtl/color_scalling-new-png_lzigzp.png">


                                        <div id="colourScale">
                                            Color Scale:
                                            <span id="colour_scale" class="red subtitle is-5 has-text-weight-semibold">
          
        </span>
                                        </div>



                                    </div>



                                    <div id="clarityGradingScale">
                                        <h6>CLARITY GRADING SCALE</h6>

                                        <img src="https://res.cloudinary.com/k-mohamed-hasim/image/upload/v1634969230/ggtl/CLARITY_GRADING_SCALE_NEW_robbih.png">


                                        <div id="clarityScale">
                                            Clarity Scale:
                                            <span id="clarity_scale" class="red subtitle is-5 has-text-weight-semibold">
          
        </span>
                                        </div>



                                    </div>

                                    <!-- scale end -->

                                    <hr class="solid">
                                    <style type="text/css">
                                        /* Solid border */
                                        
                                        hr.solid {
                                            border-top: 3px solid #bbb;
                                            margin-top: 3px;
                                        }
                                    </style>




                                </div>

                                <p id="genSize8" style="font-size: 12.5px;" class="container">
                                    This report is issued by GGTL.IN and accepted by client in accordance with our lab terms and conditions. GGTL.IN has examined the gemstone carefully with specialised instruments and prepared this report to the best of it's knowledge and professional standards.
                                    The client acknowledge this report is not a guaranteed valuation or appraisal and many not referred to as such. Please check the weight and size before and after transaction of the gemstone Subject to Nagercoil Jurisdiction
                                    only.

                                </p>
                                <br><br>
                            </div>

                            <div style="float: right;" class="col-md-4">
                                <img width="170px" height="120px" class="image" id="gimage" src="" onerror="imageLoaderror()" />
                                <!-- <img class="image mt-2" src="./assets/qr/qr.png" width="60" height="35"> -->
                                <div style="margin-left: 40px; width: 110px;" id="qrcode" class="qrcode"></div>
                                <img width="170px" height="120px" src="https://ggtl-admin.vercel.app/static/media/logo.ddc5c6be.png">
                            </div>



                        </div>


                        <div id="footer-address" class="container-fluid bg-dark">
                            <a style="text-decoration: none; text-align: center; color: white;" href="https://g.page/ggtl-in?share">273/B, 3rd floor, Avvai shanmugam salai, Meenakshipuram, Nagercoil - 629 001. </a>

                        </div>



                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        //var url = 'http://www.site.com/234234234';
        //var id = url.substring(url.lastIndexOf('/') + 1);
        //alert(id); // 234234234

        // var url = window.location.pathname;
        // var id = url.substring(url.lastIndexOf('/') + 1);
        // alert(id);


        // var full_url = document.URL; // Get current url
        // var url_array = full_url.split('/') // Split the string into an array with / as separator
        // var last_segment = url_array[url_array.length-1];  // Get the last part of the array (-1)
        // alert( last_segment ); // Alert last segment

        // var full_url = document.URL;
        // var idParameter = getUrlParameters("id", full_url, true);
        // alert(idParameter);

        var baseUrl = (window.location).href; // You can also use document.URL
        var koopId = baseUrl.substring(baseUrl.lastIndexOf('=') + 1);
        //alert(koopId)//503

        window.onload = fetchresults;

        async function fetchresults() {

            let input = koopId ? koopId : '';
            // let input = document.getElementById("input").value;
            let button = document.getElementById("button");
            // let nocert = document.getElementById("nocert");

            let cid = document.getElementById("cid");
            let gimage = document.getElementById("gimage");
            let gname = document.getElementById("gname");
            let gweight = document.getElementById("gweight");
            let gtype = document.getElementById("gtype");
            let gcuttype = document.getElementById("gcuttype");
            let gcolor = document.getElementById("gcolor");
            let on = document.getElementById("on");
            let by = document.getElementById("by");

            let result = document.getElementById("result");

            // nocert.classList.add("is-hidden");
            //result.classList.add("is-hidden");

            if (!input) {
                alert("input required");
                return;
            }
            let BASE_URL = "https://ggtl.in/api/certificate/get/";

            //  button.classList.add("is-loading");

            const response = await fetch(BASE_URL + input);
            //button.classList.remove("is-loading");
            const json = await response.json();
            //console.log(json.data[0]);

            if (json.status === "success") {
                if (json.data[0].is_diamond == 0) {
                    result.classList.remove("is-hidden");
                    result.classList.add("p3");
                    result.classList.add("columns");

                    cid.innerText = ` ${json.data[0].certificate_id}`;
                    gimage.src = json.data[0].gem_image;
                    gname.innerText = `${json.data[0].gem_name}`;
                    gweight.innerText = `${json.data[0].gem_weight}`;
                    gtype.innerText = `${json.data[0].gem_type}`;
                    gtype.innerText = `${json.data[0].gem_type}`;
                    gcuttype.innerText = `${json.data[0].gem_cut_type}`;
                    gcolor.innerText = `${json.data[0].gem_color}`;
                    on.innerText = `${json.data[0].localtime}`;
                    by.innerText = `GGTL.IN`;
                    document.getElementById('colourScale').style.display = "none";
                    document.getElementById('clarityScale').style.display = "none";


                    document.getElementById('colorGradingScale').style.display = "none";
                    document.getElementById('clarityGradingScale').style.display = "none";
                } else {
                    result.classList.remove("is-hidden");
                    result.classList.add("p3");
                    result.classList.add("columns");


                    colour_scale.innerText = ` ${json.data[0].colour_scale}`;

                    clarity_scale.innerText = ` ${json.data[0].clarity_scale}`;

                    cid.innerText = ` ${json.data[0].certificate_id}`;
                    gimage.src = json.data[0].gem_image;
                    gname.innerText = `${json.data[0].gem_name}`;
                    gweight.innerText = `${json.data[0].gem_weight}`;
                    gtype.innerText = `${json.data[0].gem_type}`;
                    gtype.innerText = `${json.data[0].gem_type}`;
                    gcuttype.innerText = `${json.data[0].gem_cut_type}`;
                    gcolor.innerText = `${json.data[0].gem_color}`;
                    on.innerText = `${json.data[0].localtime}`;
                    by.innerText = `GGTL.IN`;

                    // dynamic font size 


                    // dynamic font size end
                }

            } else {
                //  nocert.classList.remove("is-hidden");
                nocert.classList.add("show");
                nocert.classList.add("message");
                nocert.classList.add("is-danger");
            }

            //let website = "https://mohamedhasimofficial.github.io";
            // let website = document.URL;
            let website = "ggtl.in/certificate-verify.html?id=" + koopId;

            // let website = document.getElementById("website").value;

            if (website) {
                let qrcodeContainer = document.getElementById("qrcode");
                qrcodeContainer.innerHTML = "";
                new QRCode(qrcodeContainer, website);
                /*With some styles*/
                let qrcodeContainer2 = document.getElementById("qrcode-2");
                qrcodeContainer2.innerHTML = "";
                new QRCode(qrcodeContainer2, {
                    text: website,
                    width: 128,
                    height: 128,
                    colorDark: "#5868bf",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });
                document.getElementById("qrcode-container").style.display = "block";
            } else {
                alert("Please enter a valid URL");
            }

        }
        // catch (err) {
        //     console.log(err);
        //     alert("Failed", err);
        // }


        function imageLoaderror() {
            let gimage = document.getElementById("gimage");
            gimage.src =
                "https://1080motion.com/wp-content/uploads/2018/06/NoImageFound.jpg.png";
        }
    </script>


    <!-- data end -->

    <br>
    <footer class="text-center p-2 text-light" style="background-color: #234491;">
        <p class="mt-2 cp-text">
            © 2021 GGTL.IN | Materialized by <a style="text-decoration: none; color: rgb(211, 137, 137);" href="https://magniontechnologies.co.in">Magnion Technology Factory</a>
        </p>
    </footer>

</body>

</html>